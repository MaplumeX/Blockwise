---
文档类型: 产品需求文档 (PRD)
产品名称: Blockwise - 柳比歇夫时间管理 App
版本: v1.2.1
创建日期: 2026-01-20
最后更新: 2026-01-20
文档作者: Product Team
审核状态: 已审核
---

# Blockwise v1.2.1 版本功能需求

## 概述

v1.2.1 在 v1.2 基础上补齐时间线视图的“快速创建”入口：在页面右下角增加一个添加按钮（FAB）。用户点击后直接打开创建用的 Bottom Sheet，并将起始时间与结束时间默认预填为当前时间，以降低创建新时间记录的操作成本。

**主要更新**：
1. 时间线视图右下角新增添加按钮（FAB）
2. 点击 FAB 打开创建 Bottom Sheet，起始/结束时间默认=当前时间

---

## 1. 时间线视图快速创建（v1.2.1 新增）

### 1.1 功能定位

在时间线视图（Timeline View）提供稳定、可预期的一键创建入口，使用户无需先点击空白段/卡片菜单即可进入创建流程。

### 1.2 入口与布局

- **入口形式**：悬浮操作按钮（Floating Action Button, FAB）
- **位置**：右下角，位于底部导航栏上方（避免被系统手势/底部栏遮挡）
- **可见性**：仅在“时间线视图”展示；进入其它页面/模块不展示
- **图标**：加号（+）
- **触摸目标**：不小于 48dp
- **无障碍**：提供明确语义（例如“添加时间记录”）

### 1.3 交互流程

- 用户在时间线视图点击 FAB
- 系统弹出 Bottom Sheet（创建模式）
- Bottom Sheet 内的起始时间与结束时间默认预填为“当前时间”

### 1.4 Bottom Sheet（创建模式）

v1.2.1 复用 v1.2 的 Bottom Sheet 交互承载，但以“创建模式”呈现：

- **标题/主操作**：底部主按钮为“创建”（替代 v1.2 的“修改”）
- **危险操作**：创建模式不展示删除/合并/拆分等操作入口
- **关闭行为**：与 v1.2 一致（点关闭按钮或点遮罩区域关闭）


### 1.6 时间默认值规则

- **默认值**：起始时间 = 当前时间；结束时间 = 当前时间
- **时间精度**：按分钟（与 v1.2 时间滚轮精度一致）
- **日期归属（约束）**：
  - 若当前时间线视图选中日期为今天：使用系统当前时间（包含时分）
  - 若选中日期非今天：起始/结束的“日期”使用选中日期，“时分”使用系统当前时间的时分（保持“当前时间”的直觉）

- **创建约束（v1.2.1 确认）**：结束时间必须晚于起始时间。
- 当结束时间 <= 起始时间时：底部“创建”按钮置灰不可点，并在时间区域给出提示文案“结束时间需晚于起始时间”。

### 1.7 成功标准（验收）

- 时间线视图右下角可见 FAB，且不遮挡内容与底部导航
- 点击 FAB 后 Bottom Sheet 在 300ms 内弹出（主观体感无卡顿）
- Bottom Sheet 打开时起始/结束时间默认显示为当前时间（符合 1.6 规则）
- Bottom Sheet 可正常关闭，不产生脏数据/误创建

## 2.时间选择控件（更新：时/分分离滚轮）

- 起始时间与结束时间均使用滚轮选择。
- **滚轮拆分**：每个时间点由两个滚轮组成：
  - 小时（00–23）
  - 分钟（00–59）
- **布局建议**：起始与结束仍在同一行左右并排；每侧内部为“时 / 分”两列。
- **步进与对齐**：分钟滚轮按 1 分钟步进,小时滚轮安1小时步进
- **显示格式**：最终展示为 `HH:mm`（等宽字体），并随滚轮变化实时更新。

### 2.1 成功标准（验收）

- 起始/结束时间选择器均为“时滚轮 + 分滚轮”两列
---

## 3. 成功指标（新增）

- 时间线视图创建入口点击率（FAB 点击 / 时间线会话）> 30%
- 从点击 FAB 到完成创建的平均用时较 v1.2（非 FAB 创建路径）降低 20%
- 因误触导致的“立即删除/撤销”比例 < 5%
